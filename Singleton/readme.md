# Singleton 

*Эпиграф:<br>
Возвращается пьяный мужик домой, звонит в дверь и спрашивает:<br>
 — Я здесь живу?<br>
 — Нет.<br>
 — А кто здесь живет?<br>
 — Я!<br>
Он звонит в другую дверь и спрашивает:<br>
 — Я здесь живу?<br>
 — Нет.<br>
 — А кто здесь живет?<br>
 — Я!<br>
Он звонит в третью дверь и спрашивает:<br>
 — Я здесь живу?<br>
 — Нет.<br>
 — А кто здесь живет?<br>
 — Я!<br>
Пьяный мужик в отчаянии:<br>
 — Почему ты живешь везде, а я нигде?!*<br>(анекдот)<br>

**Синглтон** (одиночка) - порождающий шаблон проектирования, впервые описанный в книге "Приёмы объектно-ориентированного проектирования. Паттерны проектирования" (оригинальное название Design Patterns) за авторством "банды четырёх". 
Данный шаблон применяется, если требуется единственность экземпляра описываемого класса в рамках одного приложения. При этом внутри самого класса осуществляется контроль за единственностью экземпляра. Он создаётся статической функцией-членом класса при первом её вызове, а все последующие вызовы данной функции просто возвращают адрес (или указатель) ранее созданного экземпляра.<br>
Шаблон применяется в тех случаях, когда требуется создание сущности, единственной в рамках приложения, а обращение к которой будет осуществляться из разных частях приложения. Например:

* Интерфейс взаимодействия с драйвером дисплея.
* Ведение отладочного/системного журнала.
* Интерфейс воспроизведения звука.
* Объект обработки и хранения конфигурационных данных, получаемых из одного/нескольких источников.

Также синглтон нередко используется при реализации шаблонов "Abstract Factory", "Object Pool" и "Builder".

Несложно заметить сходство синглтона с глобальными переменными, а отсюда и общие проблемы, в частности, если в последствии потребуется отказаться от единственности экземпляра, потребуются серьезные изменения в проекте.

В каталоге ./src представлены два демонстрационных примера: 


* "SingletonTest" - простой пример, в котором объект класса Singleton занимается только хранением переменной UselessCounter. В main-классе демонстрируется попытка создания второго экземпляра и тот факт, что UselessCounter оказывается общим для обоих объектов.
* "SingletonConfig" - пример реализации при помощи синглтона функции получения конфигурационных данных из файла для последующего использования разными частями проекта. При запуске приложения в консоли демонстрируются все этапы работы. В частности, можно заметить, что создание экземпляра класса ConfigContainer, осуществляется при первом к нему обращении, после чего при последующих обращениях к методу .getInstance() возвращается ссылка на ранее созданный экземпляр и работа ведётся с ним.